<!-- Language Switcher -->

<div align="right">

[English](PROJECT_STRUCTURE_EN.md)

</div>

# é …ç›®çµæ§‹èªªæ˜

## ğŸ“ æ•´ç†å¾Œçš„ç›®éŒ„çµæ§‹

```
backend/
â”œâ”€â”€ app/                          # ä¸»æ‡‰ç”¨ç›®éŒ„
â”‚   â”œâ”€â”€ __init__.py              # Flask æ‡‰ç”¨å·¥å» 
â”‚   â”œâ”€â”€ models/                  # æ•¸æ“šæ¨¡å‹å±¤ï¼ˆORMï¼‰
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ admin.py            # ç®¡ç†å“¡æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ lab.py              # å¯¦é©—å®¤æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ member.py           # æˆå“¡æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ paper.py            # è«–æ–‡æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ news.py             # æ–°èæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ project.py          # é …ç›®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ research_group.py   # èª²é¡Œçµ„æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ resource.py         # å¯¦é©—å®¤è³‡æºæ¨¡å‹ ğŸ†•
â”‚   â”‚   â”œâ”€â”€ uploaded_image.py   # ä¸Šå‚³åœ–ç‰‡æ¨¡å‹ ğŸ†•
â”‚   â”‚   â””â”€â”€ edit_record.py      # ç·¨è¼¯è¨˜éŒ„æ¨¡å‹
â”‚   â”œâ”€â”€ routes/                  # API è·¯ç”±å±¤
â”‚   â”‚   â”œâ”€â”€ admin.py            # ç®¡ç†å“¡è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth.py             # èªè­‰è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ lab.py              # å¯¦é©—å®¤è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ member.py           # æˆå“¡è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ paper.py            # è«–æ–‡è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ news.py             # æ–°èè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ project.py          # é …ç›®è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ research_group.py   # èª²é¡Œçµ„è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ resource.py         # å¯¦é©—å®¤è³‡æºè·¯ç”± ğŸ†•
â”‚   â”‚   â”œâ”€â”€ media.py            # åª’é«”æ–‡ä»¶è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ image_upload.py     # åœ–ç‰‡ä¸Šå‚³è·¯ç”± ğŸ†•
â”‚   â”‚   â”œâ”€â”€ edit_record.py      # ç·¨è¼¯è¨˜éŒ„è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ root.py             # æ ¹è·¯ç”±
â”‚   â”‚   â””â”€â”€ swagger_complete.py # å®Œæ•´ç‰ˆè‡ªå‹•åŒ– Swagger ç³»çµ± ğŸ†•
â”‚   â”œâ”€â”€ services/                # æ¥­å‹™é‚è¼¯å±¤ â­
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_service.py     # åŸºç¤æœå‹™é¡
â”‚   â”‚   â”œâ”€â”€ admin_service.py    # ç®¡ç†å“¡æœå‹™
â”‚   â”‚   â”œâ”€â”€ auth_service.py     # èªè­‰æœå‹™
â”‚   â”‚   â”œâ”€â”€ lab_service.py      # å¯¦é©—å®¤æœå‹™
â”‚   â”‚   â”œâ”€â”€ member_service.py   # æˆå“¡æœå‹™
â”‚   â”‚   â”œâ”€â”€ paper_service.py    # è«–æ–‡æœå‹™
â”‚   â”‚   â”œâ”€â”€ news_service.py     # æ–°èæœå‹™
â”‚   â”‚   â”œâ”€â”€ project_service.py  # é …ç›®æœå‹™
â”‚   â”‚   â”œâ”€â”€ research_group_service.py # èª²é¡Œçµ„æœå‹™
â”‚   â”‚   â”œâ”€â”€ resource_service.py # å¯¦é©—å®¤è³‡æºæœå‹™ ğŸ†•
â”‚   â”‚   â”œâ”€â”€ media_service.py    # åª’é«”æœå‹™
â”‚   â”‚   â”œâ”€â”€ image_upload_service.py # åœ–ç‰‡ä¸Šå‚³æœå‹™ ğŸ†•
â”‚   â”‚   â””â”€â”€ audit_service.py    # å¯©è¨ˆæœå‹™
â”‚   â”œâ”€â”€ auth/                    # èªè­‰ç›¸é—œ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ decorators.py       # èªè­‰è£é£¾å™¨
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•¸
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ helpers.py          # é€šç”¨å¹«åŠ©å‡½æ•¸
â”‚   â”‚   â”œâ”€â”€ validators.py       # æ•¸æ“šé©—è­‰å™¨
â”‚   â”‚   â””â”€â”€ file_handler.py     # æ–‡ä»¶è™•ç†å·¥å…·
â”‚   â””â”€â”€ static/                  # éœæ…‹æ–‡ä»¶
â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ config.py               # æ‡‰ç”¨é…ç½®
â”œâ”€â”€ scripts/                     # è…³æœ¬ç›®éŒ„
â”‚   â”œâ”€â”€ deployment/             # éƒ¨ç½²è…³æœ¬
â”‚   â”‚   â”œâ”€â”€ deploy.sh          # éƒ¨ç½²è…³æœ¬
â”‚   â”‚   â”œâ”€â”€ start.sh           # å•Ÿå‹•è…³æœ¬
â”‚   â”‚   â””â”€â”€ docker-entrypoint.sh # Docker å…¥å£è…³æœ¬
â”‚   â”œâ”€â”€ development/            # é–‹ç™¼è…³æœ¬
â”‚   â”‚   â””â”€â”€ init_db.py         # æ•¸æ“šåº«åˆå§‹åŒ–
â”‚   â””â”€â”€ maintenance/            # ç¶­è­·è…³æœ¬
â”‚       â””â”€â”€ diagnose.sh        # è¨ºæ–·è…³æœ¬
â”œâ”€â”€ tests/                      # æ¸¬è©¦ç›®éŒ„ â­
â”‚   â”œâ”€â”€ conftest.py            # pytest é…ç½®
â”‚   â”œâ”€â”€ unit/                  # å–®å…ƒæ¸¬è©¦
â”‚   â”‚   â”œâ”€â”€ services/          # æœå‹™å±¤æ¸¬è©¦ â­
â”‚   â”‚   â”‚   â””â”€â”€ test_service_template.py # æœå‹™æ¸¬è©¦æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ models/            # æ¨¡å‹æ¸¬è©¦
â”‚   â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•¸æ¸¬è©¦
â”‚   â”œâ”€â”€ integration/           # é›†æˆæ¸¬è©¦
â”‚   â”‚   â””â”€â”€ test_api.py       # API é›†æˆæ¸¬è©¦
â”‚   â””â”€â”€ fixtures/              # æ¸¬è©¦æ•¸æ“š
â”‚       â”œâ”€â”€ data_fixtures.py  # æ¥­å‹™æ•¸æ“š fixtures
â”‚       â””â”€â”€ user_fixtures.py  # ç”¨æˆ¶èªè­‰ fixtures
â”œâ”€â”€ docs/                      # æ–‡æª”ç›®éŒ„
â”‚   â”œâ”€â”€ api/                   # API æ–‡æª”
â”‚   â”œâ”€â”€ deployment/            # éƒ¨ç½²æ–‡æª”
â”‚   â”‚   â””â”€â”€ DOCKER_DEPLOY.md  # Docker éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ development/           # é–‹ç™¼æ–‡æª”
â”‚   â””â”€â”€ migration/             # é·ç§»æ–‡æª”
â”‚       â””â”€â”€ SWAGGER_MIGRATION_GUIDE.md # Swagger é·ç§»æŒ‡å—
â”œâ”€â”€ migrations/                # æ•¸æ“šåº«é·ç§»
â”œâ”€â”€ logs/                      # æ—¥èªŒç›®éŒ„
â”œâ”€â”€ media/                     # åª’é«”æ–‡ä»¶ç›®éŒ„
â”œâ”€â”€ requirements.txt           # Python ä¾è³´
â”œâ”€â”€ run.py                     # æ‡‰ç”¨å…¥å£é»
â”œâ”€â”€ README.md                  # é …ç›®èªªæ˜
â”œâ”€â”€ .env.example              # ç’°å¢ƒè®Šé‡ç¤ºä¾‹
â”œâ”€â”€ Dockerfile                # Docker é…ç½®
â”œâ”€â”€ docker-compose.yml        # Docker Compose é…ç½®
â””â”€â”€ docker-compose-minimal.yml # æœ€å°åŒ– Docker Compose
```

## ğŸ¯ æ•´ç†æˆæœ

### âœ… å·²æ¸…ç†çš„æ–‡ä»¶
- **è‡¨æ™‚æ¼”ç¤ºæ–‡ä»¶**: `demo_swagger_automation.py`, `test_basic.py`, `test_swagger_automation.py` ç­‰
- **é·ç§»åˆ†ææ–‡ä»¶**: `MIGRATION_ANALYSIS.py`, `MIGRATION_SUCCESS_REPORT.py` ç­‰
- **å‚™ä»½æ–‡ä»¶**: `app/__init__.py.backup`, `swagger_docs.py.backup`
- **å†—ä½™ Swagger æ–‡ä»¶**: å‡ç´šåˆ°å®Œæ•´ç‰ˆ `swagger_complete.py` ç³»çµ±
- **è‡¨æ™‚ç­†è¨˜**: `think/` ç›®éŒ„

### ğŸ†• æ–°å¢åŠŸèƒ½
- **å¯¦é©—å®¤è³‡æºç®¡ç†**: å®Œæ•´çš„è³‡æºCRUDç³»çµ±ï¼Œæ”¯æŒè¨­å‚™ã€è»Ÿä»¶ã€æ•¸æ“šåº«ç­‰è³‡æºç®¡ç†
- **è«–æ–‡é è¦½åœ–ç‰‡**: ç‚ºè«–æ–‡æ·»åŠ é è¦½åœ–ç‰‡åŠŸèƒ½ï¼Œæå‡è¦–è¦ºå±•ç¤ºæ•ˆæœ
- **æ ¡å‹ç®¡ç†å¢å¼·**: æ·»åŠ ç•¢æ¥­å¹´ç´šå’Œèº«ä»½å­—æ®µï¼Œæ”¯æŒæ ¡å‹æ’åºåŠŸèƒ½
- **æˆå“¡æ¨¡æ¿ç³»çµ±**: æ”¯æŒç ”ç©¶é ˜åŸŸTAGã€å€‹äººä¸»é URL TAGã€è«–æ–‡åˆ—è¡¨TAGç­‰
- **åœ–ç‰‡ä¸Šå‚³æœå‹™**: å°ˆé–€çš„Markdownåœ–ç‰‡ä¸Šå‚³å’Œç®¡ç†ç³»çµ±
- **404é é¢**: å®Œæ•´çš„å‰ç«¯éŒ¯èª¤è™•ç†é é¢
- **èœå–®æ™ºèƒ½éš±è—**: æ ¹æ“šæ•¸æ“šå­˜åœ¨æ€§å‹•æ…‹éš±è—èœå–®é …

### ğŸ“ æ–°å¢çš„ç›®éŒ„çµæ§‹
- **`scripts/`**: æŒ‰åŠŸèƒ½åˆ†é¡çš„è…³æœ¬ï¼ˆdeployment, maintenance, developmentï¼‰
- **`tests/unit/services/`**: å°ˆé–€ç”¨æ–¼æœå‹™å±¤å–®å…ƒæ¸¬è©¦ â­
- **`tests/integration/`**: é›†æˆæ¸¬è©¦
- **`tests/fixtures/`**: æ¸¬è©¦æ•¸æ“š
- **`docs/`**: æŒ‰é¡åˆ¥çµ„ç¹”çš„æ–‡æª”
- **`media/description_image/`**: Markdownæè¿°åœ–ç‰‡å­˜å„²ç›®éŒ„ ğŸ†•

### ğŸ§ª æ¸¬è©¦ç’°å¢ƒæº–å‚™
- **`tests/conftest.py`**: pytest é…ç½®ï¼ŒåŒ…å«æ‡‰ç”¨ã€æ•¸æ“šåº«ç­‰ fixtures
- **`tests/unit/services/test_service_template.py`**: æœå‹™å±¤æ¸¬è©¦æ¨¡æ¿
- **`tests/fixtures/data_fixtures.py`**: æ¥­å‹™æ•¸æ“šæ¸¬è©¦ fixtures
- **`tests/fixtures/user_fixtures.py`**: ç”¨æˆ¶èªè­‰æ¸¬è©¦ fixtures

## ğŸš€ ä½¿ç”¨æŒ‡å—

### é‹è¡Œæ¸¬è©¦
```bash
# é‹è¡Œæ‰€æœ‰æ¸¬è©¦
pytest

# é‹è¡Œæœå‹™å±¤æ¸¬è©¦
pytest tests/unit/services/ -v

# é‹è¡Œç‰¹å®šæ¨™è¨˜çš„æ¸¬è©¦
pytest -m service  # æœå‹™å±¤æ¸¬è©¦
pytest -m unit     # å–®å…ƒæ¸¬è©¦
pytest -m integration  # é›†æˆæ¸¬è©¦

# ç”Ÿæˆè¦†è“‹ç‡å ±å‘Š
pytest --cov=app
```

### é–‹ç™¼æ–°åŠŸèƒ½
1. **æ·»åŠ æ¨¡å‹**: åœ¨ `app/models/` ä¸­æ·»åŠ æ•¸æ“šæ¨¡å‹
2. **å¯¦ç¾æœå‹™å±¤**: åœ¨ `app/services/` ä¸­å¯¦ç¾æ¥­å‹™é‚è¼¯
3. **æ·»åŠ è·¯ç”±**: åœ¨ `app/routes/` ä¸­æ·»åŠ  API ç«¯é»
4. **ç·¨å¯«æ¸¬è©¦**: åœ¨ `tests/unit/services/` ä¸­æ·»åŠ æœå‹™å±¤æ¸¬è©¦

### éƒ¨ç½²é …ç›®
```bash
# é–‹ç™¼ç’°å¢ƒ
./scripts/development/init_db.py

# ç”Ÿç”¢éƒ¨ç½²
./scripts/deployment/deploy.sh

# è¨ºæ–·å•é¡Œ
./scripts/maintenance/diagnose.sh
```

## âœ¨ é …ç›®å„ªå‹¢

- ğŸ¯ **æ¸…æ™°çš„åˆ†å±¤æ¶æ§‹**: Routes â†’ Services â†’ Models
- ğŸ§ª **å®Œæ•´çš„æ¸¬è©¦çµæ§‹**: å°ˆé–€çš„æœå‹™å±¤æ¸¬è©¦ç›®éŒ„
- ğŸ“š **è¦ç¯„çš„æ–‡æª”çµ„ç¹”**: æŒ‰é¡åˆ¥åˆ†é¡çš„æ–‡æª”çµæ§‹
- ğŸ› ï¸ **æ•´æ½”çš„è…³æœ¬ç®¡ç†**: æŒ‰åŠŸèƒ½åˆ†é¡çš„è…³æœ¬ç›®éŒ„
- âš¡ **é›¶ç¶­è­· API æ–‡æª”**: å®Œæ•´ç‰ˆè‡ªå‹•åŒ– Swagger ç³»çµ± (48+ æ¥å£)
- ğŸš€ **å„ªç§€çš„å¯ç¶­è­·æ€§**: æ¯å€‹çµ„ä»¶è·è²¬æ¸…æ™°
- ğŸ“¦ **å…¨é¢çš„è³‡æºç®¡ç†**: æ”¯æ´å¯¦é©—å®¤å„é¡è³‡æºçš„çµ±ä¸€ç®¡ç†
- ğŸ¨ **å¢å¼·çš„ç”¨æˆ¶é«”é©—**: é è¦½åœ–ç‰‡ã€æ™ºèƒ½èœå–®ã€æˆå“¡æ¨¡æ¿ç³»çµ±
- ğŸ”§ **æ¨¡çµ„åŒ–è¨­è¨ˆ**: æ–°å¢åŠŸèƒ½éƒ½éµå¾ªçµ±ä¸€çš„æ¶æ§‹æ¨¡å¼